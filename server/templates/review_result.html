<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>Shoä¸‰Room ë¦¬ë·° ë¶„ì„</title>

  <!--
  CSS íŒŒì¼ ë¡œë“œ
  - Flask static í´ë”ì—ì„œ review_result.cssë¥¼ ë¶ˆëŸ¬ì˜´
  - í˜ì´ì§€ ì „ë°˜ì˜ ë ˆì´ì•„ì›ƒ ë° ìŠ¤íƒ€ì¼ ì •ì˜
  -->
  <link rel="stylesheet" href="/static/css/review_result.css" />
</head>
<body>

  <!--
  ì»¨í…Œì´ë„ˆ: ì „ì²´ ë¦¬ë·° ë¶„ì„ ë‚´ìš©ì„ ë‹´ëŠ” ìµœìƒìœ„ div
  -->
  <div style="text-align: center;">
    <div class="top_class">
      <img src="{{ url_for('static', filename='cube.png') }}" alt="íë¸Œ ì•„ì´ì½˜" style="width: 25%; height: auto;">
      <h1> ë¦¬ë·° ë¶„ì„</h1>
    </div>
  </div>


    <!--
    ğŸ”” í† í”½ í•„í„° ë²„íŠ¼ ê·¸ë£¹
    - 'ì „ì²´ ë³´ê¸°' ë²„íŠ¼ + ê° í† í”½ë³„ í•„í„° ë²„íŠ¼ ìƒì„±
    - Jinja2ë¡œ topics.keys()ë¥¼ ìˆœíšŒí•˜ë©° ë²„íŠ¼ ìƒì„±
    -->
    <div class="filter-group">
      <button class="filter-btn active" data-topic="All">ì „ì²´ ë³´ê¸°</button>
      {% for topic in topics.keys() %}
        <button class="filter-btn" data-topic="{{ topic }}">{{ topic }}</button>
      {% endfor %}
    </div>

    <!--
    ğŸ”” ê° í† í”½ë³„ ë¦¬ë·° ì¹´ë“œ
    - topics.items() ìˆœíšŒ: topic ì´ë¦„ & í•´ë‹¹ topicì˜ ë¦¬ë·° ë¦¬ìŠ¤íŠ¸ í‘œì‹œ
    -->
    {% for topic, sentences in topics.items() %}
      <div class="topic-card" data-topic="{{ topic }}" id="card-{{ loop.index }}">
        
        <!--
        ì¹´ë“œ í—¤ë”
        - ì•„ì´ì½˜: í† í”½ë³„ ì´ëª¨ì§€
        - ì œëª©: í† í”½ëª…
        -->
        <div class="topic-header">
          <span class="topic-icon">
            {% if topic == 'ì²­ê²°ë„' %} ğŸ§¼
            {% elif topic == 'ìœ„ì¹˜' %} ğŸ“
            {% elif topic == 'ê°€ê²©' %} ğŸ’°
            {% elif topic == 'ì‹œì„¤' %} ğŸ›‹ï¸
            {% elif topic == 'í˜¸ìŠ¤íŠ¸' %} ğŸ¤
            {% elif topic == 'ì†ŒìŒ' %} ğŸ”‡
            {% endif %}
          </span>
          <h3>{{ topic }}</h3>
        </div>

        <!--
        ë¦¬ë·° ë¦¬ìŠ¤íŠ¸
        - ìµœëŒ€ 5ê°œì˜ ë¦¬ë·°ë§Œ ê¸°ë³¸ í‘œì‹œ
        - ì´í›„ í•­ëª©ì€ hidden í´ë˜ìŠ¤ ì ìš© (JSë¡œ í™•ì¥/ì¶•ì†Œ)
        - "ê¹”ë”" í‚¤ì›Œë“œëŠ” ê°•ì¡°(span.highlight-clean)
        -->
        <ul class="review-list" id="list-{{ loop.index }}">
          {% for sentence in sentences %}
            <li class="{% if loop.index > 5 %}hidden{% endif %}">
              {{ sentence | replace("ê¹”ë”", '<span class="highlight-clean">ê¹”ë”</span>') | safe }}
            </li>
          {% endfor %}
        </ul>

        <!--
        ë” ë³´ê¸° / ì ‘ê¸° ë²„íŠ¼
        - ë¦¬ë·°ê°€ 5ê°œ ì´ìƒì¸ ê²½ìš°ì—ë§Œ í‘œì‹œ
        - JSì—ì„œ expandList / collapseList í•¨ìˆ˜ë¡œ ë¦¬ìŠ¤íŠ¸ ì¡°ì‘
        -->
        {% if sentences|length > 5 %}
          <div class="actions">
            <button class="btn-expand"
                    onclick="expandList({{ loop.index }})"
                    id="btn-expand-{{ loop.index }}"
                    data-shown="5">
              â–¼ ë” ë³´ê¸°
            </button>
            <div class="separator"></div>
            <button class="btn-collapse hidden"
                    onclick="collapseList({{ loop.index }})"
                    id="btn-collapse-{{ loop.index }}">
              â–² ì ‘ê¸°
            </button>
          </div>
        {% endif %}
      </div>

      <!--
      ì¹´ë“œ ì‚¬ì´ì˜ êµ¬ë¶„ì„ 
      -->
      <div class="divider"></div>
    {% endfor %}
  </div>

  <!--
  JS íŒŒì¼ ë¡œë“œ
  - review_result.js: ë¦¬ë·° ì¹´ë“œì˜ ë”ë³´ê¸°/ì ‘ê¸° ë™ì‘ êµ¬í˜„
  -->
  <script src="/static/js/review_result.js"></script>
</body>
</html>
